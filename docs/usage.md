# 虚假新闻检测器使用指南

本文档提供了虚假新闻检测器的详细使用说明。

## 目录

- [应用界面介绍](#应用界面介绍)
- [核查新闻的步骤](#核查新闻的步骤)
- [配置选项](#配置选项)
- [高级用法](#高级用法)
- [常见问题解答](#常见问题解答)

## 应用界面介绍

虚假新闻检测器的界面主要分为以下几个部分：

1. **主界面**：用于输入新闻文本并显示核查结果
2. **侧边栏**：包含配置选项和应用信息
3. **聊天界面**：以对话形式展示历史核查记录

## 核查新闻的步骤

### 1. 输入新闻文本

在底部的输入框中输入需要核查的新闻文本，可以是标题、段落或完整的新闻文章。

### 2. 查看核查过程

系统将自动执行以下步骤，并实时显示进度：

- **提取核心声明**：识别并提取新闻中的关键事实主张
- **搜索相关证据**：从互联网获取相关证据
- **分析证据相关性**：识别最相关的证据片段
- **给出事实核查结论**：基于证据提供判断和推理过程

### 3. 结果解读

结果将包含以下几个部分：

- **核心声明**：系统提取的可核查声明
- **证据来源**：各个相关证据片段及其来源
- **结论**：对声明的判断（正确✅/错误❌/部分正确⚠️/无法验证❓）
- **推理过程**：系统如何基于证据得出结论的详细解释

## 配置选项

在侧边栏中，您可以调整以下配置：

### API设置

- **API基础URL**：设置LLM服务的API端点，默认为本地服务`http://localhost:8000/v1`
- **选择模型**：选择用于事实核查的模型，当前支持`Qwen2.5-14B-Instruct-AWQ`

### 高级设置

- **温度**：控制LLM输出的随机性，值越低结果越确定，值越高结果越多样
- **最大响应长度**：控制LLM输出的最大标记数

## 高级用法

### 本地模型设置

如果您希望使用自己部署的模型，需要：

1. 确保模型服务器支持OpenAI兼容的API接口
2. 在侧边栏中更新API基础URL
3. 根据需要在`fact_checker.py`中更新BGE-M3模型路径

### 自定义代理设置

如果需要通过代理访问搜索API，可以修改`fact_checker.py`中的代理设置：

```python
ddgs = DDGS(proxy="your_proxy_here", timeout=60)
```

## 常见问题解答

### Q: 系统返回"Error searching for evidence"

这通常是因为网络连接问题或代理设置不正确。检查您的网络连接，确保代理设置正确。

### Q: BGE-M3模型加载失败

确保您已正确安装`FlagEmbedding`库，并且BGE-M3模型文件路径正确。您可以通过以下方式修改路径：

```python
self.embedding_model = BGEM3FlagModel('/path/to/your/bge-m3/')
```

### Q: 如何优化核查结果的准确性？

- 提供更完整的新闻文本以获取更准确的核心声明
- 在高级设置中降低温度值(temperature)以获得更确定的结果
- 增加最大响应长度以允许系统提供更详细的分析